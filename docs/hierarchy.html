---

title: Hierarchy


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/04_hierarchy.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/04_hierarchy.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FunctionsData" class="doc_header"><code>class</code> <code>FunctionsData</code><a href="https://github.com/perceptualrobots/pct/tree/master/pct/hierarchy.py#L15" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FunctionsData</code>()</p>
</blockquote>
<p>Data collected for a set of functions</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PCTHierarchy" class="doc_header"><code>class</code> <code>PCTHierarchy</code><a href="https://github.com/perceptualrobots/pct/tree/master/pct/hierarchy.py#L42" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PCTHierarchy</code>(<strong><code>levels</code></strong>=<em><code>0</code></em>, <strong><code>cols</code></strong>=<em><code>0</code></em>, <strong><code>pre</code></strong>=<em><code>None</code></em>, <strong><code>post</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>'pcthierarchy'</code></em>, <strong><code>clear_names</code></strong>=<em><code>True</code></em>, <strong><code>links</code></strong>=<em><code>'single'</code></em>, <strong><code>history</code></strong>=<em><code>False</code></em>, <strong><code>build</code></strong>=<em><code>True</code></em>, <strong><code>error_collector</code></strong>=<em><code>None</code></em>, <strong><code>namespace</code></strong>=<em><code>None</code></em>, <strong>**<code>pargs</code></strong>)</p>
</blockquote>
<p>A hierarchical perceptual control system, of PCTNodes.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-a-Hierarchy">Creating a Hierarchy<a class="anchor-link" href="#Creating-a-Hierarchy"> </a></h2><p>Create a hierarchy by defining the number of rows (levels) and columns.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pct.functions</span> <span class="kn">import</span> <span class="n">Constant</span>
<span class="n">pre</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;precon&#39;</span><span class="p">)</span>
<span class="n">namespace</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">namespace</span>
<span class="n">post</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;postcon&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
<span class="n">hpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="p">[</span><span class="n">pre</span><span class="p">],</span> <span class="n">post</span><span class="o">=</span><span class="p">[</span><span class="n">post</span><span class="p">],</span> <span class="n">history</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clear_names</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">hierarchy</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[[&lt;pct.nodes.PCTNode at 0x7ff1f0e47210&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0e47f50&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0e2ccd0&gt;],
 [&lt;pct.nodes.PCTNode at 0x7ff1f0d38410&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0d38810&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0d38b10&gt;],
 [&lt;pct.nodes.PCTNode at 0x7ff1f0d38e90&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0c6fe50&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0c6f210&gt;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FunctionsList</span><span class="o">.</span><span class="n">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>    
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>23 d0c384e6-0297-11ec-bb71-f3a3fc31a32d
***  precon [&lt;pct.functions.Constant object at 0x7ff1f0e474d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 5, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;precon&#39;, &#39;decimal_places&#39;: 3}
***  postcon [&lt;pct.functions.Constant object at 0x7ff1f0e47f90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 10, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;postcon&#39;, &#39;decimal_places&#39;: 3}
***  weighted_sum [&lt;pct.functions.WeightedSum object at 0x7ff1f0e47790&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38590&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38850&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38dd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f0e47210&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0e47210&gt;
***  weighted_sum1 [&lt;pct.functions.WeightedSum object at 0x7ff1f0e47850&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38590&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38850&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38dd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum1&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f0e47f50&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0e47f50&gt;
***  weighted_sum2 [&lt;pct.functions.WeightedSum object at 0x7ff1f0e2cb90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38590&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38850&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d38dd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum2&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f0e2ccd0&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0e2ccd0&gt;
***  weighted_sum3 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d380d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f0e478d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f0e47d50&gt;, &lt;pct.functions.Variable object at 0x7ff1f0d38090&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum3&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum4 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d384d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38710&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f190&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f4d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum4&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d38410&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d38410&gt;
***  weighted_sum5 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38290&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f0e478d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f0e47d50&gt;, &lt;pct.functions.Variable object at 0x7ff1f0d38090&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum5&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum6 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38790&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38710&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f190&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f4d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum6&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d38810&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d38810&gt;
***  weighted_sum7 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d389d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f0e478d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f0e47d50&gt;, &lt;pct.functions.Variable object at 0x7ff1f0d38090&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum7&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum8 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38a90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d38710&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f190&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0c6f4d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum8&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d38b10&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d38b10&gt;
***  weighted_sum9 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38fd0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d380d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d38290&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d389d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum9&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d38e90&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d38e90&gt;
***  weighted_sum10 [&lt;pct.functions.WeightedSum object at 0x7ff1f0c6fe10&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d380d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d38290&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d389d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum10&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f0c6fe50&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0c6fe50&gt;
***  weighted_sum11 [&lt;pct.functions.WeightedSum object at 0x7ff1f0c6ff90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c384e6-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d380d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d38290&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d389d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum11&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f0c6f210&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0c6f210&gt;
1 d0c3922e-0297-11ec-bb71-f3a3fc31a32d
***  variable [&lt;pct.functions.Variable object at 0x7ff1f0e478d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3922e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable&#39;, &#39;decimal_places&#39;: 3}
1 d0c39350-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0e47810&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39350-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0e47790&gt;, &lt;pct.functions.Variable object at 0x7ff1f0e478d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c3940e-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0e47ad0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3940e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0e47810&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39544-0297-11ec-bb71-f3a3fc31a32d
***  variable [&lt;pct.functions.Variable object at 0x7ff1f0e47d50&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39544-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable&#39;, &#39;decimal_places&#39;: 3}
1 d0c3959e-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0cb4f10&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3959e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0e47850&gt;, &lt;pct.functions.Variable object at 0x7ff1f0e47d50&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c395f8-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0e47cd0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c395f8-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0cb4f10&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c396ca-0297-11ec-bb71-f3a3fc31a32d
***  variable [&lt;pct.functions.Variable object at 0x7ff1f0d38090&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c396ca-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable&#39;, &#39;decimal_places&#39;: 3}
1 d0c3972e-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0d38150&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3972e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0e2cb90&gt;, &lt;pct.functions.Variable object at 0x7ff1f0d38090&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c3977e-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0d381d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3977e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d38150&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39878-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0d382d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39878-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d384d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d380d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c398d2-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0d38590&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c398d2-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d382d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39a12-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0d38950&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39a12-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38790&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d38290&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c39a6c-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0d38850&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39a6c-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d38950&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39b84-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0d38f90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39b84-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d38a90&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d389d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c39bde-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0d38dd0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39bde-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d38f90&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39d8c-0297-11ec-bb71-f3a3fc31a32d
***  constant [&lt;pct.functions.Constant object at 0x7ff1f0d38c90&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39d8c-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant&#39;, &#39;decimal_places&#39;: 3}
1 d0c39df0-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0d38bd0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39df0-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0d38c90&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d38fd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c39e40-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0d38710&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39e40-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d38bd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c39f4e-0297-11ec-bb71-f3a3fc31a32d
***  constant [&lt;pct.functions.Constant object at 0x7ff1f0c6ff50&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39f4e-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant&#39;, &#39;decimal_places&#39;: 3}
1 d0c39fa8-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0c6f050&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c39fa8-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0c6ff50&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0c6fe10&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c3a002-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0c6f190&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3a002-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0c6f050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
1 d0c3a124-0297-11ec-bb71-f3a3fc31a32d
***  constant [&lt;pct.functions.Constant object at 0x7ff1f0c6f410&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3a124-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant&#39;, &#39;decimal_places&#39;: 3}
1 d0c3a174-0297-11ec-bb71-f3a3fc31a32d
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f0c6f450&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3a174-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0c6f410&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0c6ff90&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
1 d0c3a1ba-0297-11ec-bb71-f3a3fc31a32d
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f0c6f4d0&gt;]
{&#39;namespace&#39;: UUID(&#39;d0c3a1ba-0297-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0c6f450&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a hierarchy from a configuration.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;type&#39;: &#39;PCTHierarchy&#39;, &#39;name&#39;: &#39;pcthierarchy&#39;, &#39;pre&#39;: {&#39;pre0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;precon&#39;, &#39;value&#39;: 5, &#39;links&#39;: {}}}, &#39;levels&#39;: {&#39;level0&#39;: {&#39;level&#39;: 0, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum&#39;, 1: &#39;variable&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum1&#39;, 1: &#39;variable&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum2&#39;, 1: &#39;variable&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}}}, &#39;level1&#39;: {&#39;level&#39;: 1, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum4&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum3&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable&#39;, 2: &#39;variable&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum4&#39;, 1: &#39;weighted_sum3&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum6&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum5&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable&#39;, 2: &#39;variable&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum6&#39;, 1: &#39;weighted_sum5&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum8&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional&#39;, 1: &#39;proportional&#39;, 2: &#39;proportional&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum7&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable&#39;, 2: &#39;variable&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum8&#39;, 1: &#39;weighted_sum7&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}}}, &#39;level2&#39;: {&#39;level&#39;: 2, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum9&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant&#39;, 1: &#39;weighted_sum9&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum10&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant&#39;, 1: &#39;weighted_sum10&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum11&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant&#39;, 1: &#39;weighted_sum11&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}}}}, &#39;post&#39;: {&#39;post0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;postcon&#39;, &#39;value&#39;: 10, &#39;links&#39;: {}}}}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">h</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">Exception</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-11-72f7b13a5aef&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>h <span class="ansi-blue-fg">=</span> PCTHierarchy<span class="ansi-blue-fg">.</span>from_config<span class="ansi-blue-fg">(</span>config<span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">=</span>namespace<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-7-c7c5e88f9b7d&gt;</span> in <span class="ansi-cyan-fg">from_config</span><span class="ansi-blue-fg">(cls, config, namespace)</span>
<span class="ansi-green-intense-fg ansi-bold">    540</span>             cols <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">    541</span>             <span class="ansi-green-fg">for</span> nodes_key <span class="ansi-green-fg">in</span> config<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;levels&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span>level_key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;nodes&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>keys<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 542</span><span class="ansi-red-fg">                 </span>node <span class="ansi-blue-fg">=</span> PCTNode<span class="ansi-blue-fg">.</span>from_config<span class="ansi-blue-fg">(</span>config<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;levels&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span>level_key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;nodes&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span>nodes_key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;node&#39;</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">=</span>namespace<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    543</span>                 cols<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>node<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    544</span>             hpct<span class="ansi-blue-fg">.</span>hierarchy<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>cols<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/nodes.py</span> in <span class="ansi-cyan-fg">from_config</span><span class="ansi-blue-fg">(cls, config, namespace)</span>
<span class="ansi-green-intense-fg ansi-bold">    455</span>         collection <span class="ansi-blue-fg">=</span> node<span class="ansi-blue-fg">.</span>referenceCollection
<span class="ansi-green-intense-fg ansi-bold">    456</span>         coll_dict <span class="ansi-blue-fg">=</span> config<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">&#39;refcoll&#39;</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">--&gt; 457</span><span class="ansi-red-fg">         </span>PCTNode<span class="ansi-blue-fg">.</span>collection_from_config<span class="ansi-blue-fg">(</span>collection<span class="ansi-blue-fg">,</span> coll_dict<span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    458</span> 
<span class="ansi-green-intense-fg ansi-bold">    459</span>         node<span class="ansi-blue-fg">.</span>perceptionCollection <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/nodes.py</span> in <span class="ansi-cyan-fg">collection_from_config</span><span class="ansi-blue-fg">(node, collection, coll_dict, namespace)</span>
<span class="ansi-green-intense-fg ansi-bold">    485</span>             fnname <span class="ansi-blue-fg">=</span> fndict<span class="ansi-blue-fg">.</span>pop<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">&#39;type&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    486</span>             <span class="ansi-red-fg">#print(fndict)</span>
<span class="ansi-green-fg">--&gt; 487</span><span class="ansi-red-fg">             </span>func <span class="ansi-blue-fg">=</span> eval<span class="ansi-blue-fg">(</span>fnname<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>from_config<span class="ansi-blue-fg">(</span>fndict<span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    488</span>             collection<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>func<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    489</span> 

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/functions.py</span> in <span class="ansi-cyan-fg">from_config</span><span class="ansi-blue-fg">(cls, config, namespace)</span>
<span class="ansi-green-intense-fg ansi-bold">    359</span>     <span class="ansi-blue-fg">@</span>classmethod
<span class="ansi-green-intense-fg ansi-bold">    360</span>     <span class="ansi-green-fg">def</span> from_config<span class="ansi-blue-fg">(</span>cls<span class="ansi-blue-fg">,</span> config<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 361</span><span class="ansi-red-fg">         </span>func <span class="ansi-blue-fg">=</span> cls<span class="ansi-blue-fg">(</span>new_name<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">=</span>namespace<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>config<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    362</span>         <span class="ansi-green-fg">return</span> func
<span class="ansi-green-intense-fg ansi-bold">    363</span> 

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/functions.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, weights, value, name, links, new_name, usenumpy, namespace, **cargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    682</span>     <span class="ansi-blue-fg">&#34;A function that combines a set of inputs by multiplying each by a weight and then adding them up. Parameter: The weights array. Links: Links to all the input functions.&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    683</span>     <span class="ansi-green-fg">def</span> __init__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> weights<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">,</span> value<span class="ansi-blue-fg">=</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span> name<span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#34;weighted_sum&#34;</span><span class="ansi-blue-fg">,</span> links<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> new_name<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">,</span> usenumpy<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">False</span><span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">None</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">**</span>cargs<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 684</span><span class="ansi-red-fg">         </span>super<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>__init__<span class="ansi-blue-fg">(</span>name<span class="ansi-blue-fg">,</span> value<span class="ansi-blue-fg">,</span> links<span class="ansi-blue-fg">,</span> new_name<span class="ansi-blue-fg">,</span> namespace<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    685</span>         <span class="ansi-green-fg">if</span> usenumpy<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    686</span>             <span class="ansi-green-fg">if</span> isinstance<span class="ansi-blue-fg">(</span>weights<span class="ansi-blue-fg">,</span> list<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/functions.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-fg">(self, name, value, links, new_name, namespace)</span>
<span class="ansi-green-intense-fg ansi-bold">     43</span>         self<span class="ansi-blue-fg">.</span>value <span class="ansi-blue-fg">=</span> value
<span class="ansi-green-intense-fg ansi-bold">     44</span>         self<span class="ansi-blue-fg">.</span>links <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">---&gt; 45</span><span class="ansi-red-fg">         </span>self<span class="ansi-blue-fg">.</span>handle_links<span class="ansi-blue-fg">(</span>links<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     46</span>         self<span class="ansi-blue-fg">.</span>checklinks<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span>
<span class="ansi-green-intense-fg ansi-bold">     47</span> 

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/functions.py</span> in <span class="ansi-cyan-fg">handle_links</span><span class="ansi-blue-fg">(self, links)</span>
<span class="ansi-green-intense-fg ansi-bold">     86</span>                 <span class="ansi-green-fg">if</span> len<span class="ansi-blue-fg">(</span>links<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">&gt;</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     87</span>                     <span class="ansi-green-fg">for</span> key <span class="ansi-green-fg">in</span> links<span class="ansi-blue-fg">.</span>keys<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">---&gt; 88</span><span class="ansi-red-fg">                         </span>self<span class="ansi-blue-fg">.</span>links<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span>FunctionsList<span class="ansi-blue-fg">.</span>getInstance<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>get_function<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>namespace<span class="ansi-blue-fg">,</span> links<span class="ansi-blue-fg">[</span>key<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     89</span>                 <span class="ansi-green-fg">return</span>
<span class="ansi-green-intense-fg ansi-bold">     90</span> 

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/putils.py</span> in <span class="ansi-cyan-fg">get_function</span><span class="ansi-blue-fg">(self, namespace, name)</span>
<span class="ansi-green-intense-fg ansi-bold">    111</span>                 func <span class="ansi-blue-fg">=</span> namespace_list<span class="ansi-blue-fg">[</span>name<span class="ansi-blue-fg">]</span>
<span class="ansi-green-intense-fg ansi-bold">    112</span>             <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 113</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> Exception<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">f&#39;Function {name} does not exist in namespace {namespace}&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    114</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    115</span>             func <span class="ansi-blue-fg">=</span> name

<span class="ansi-red-fg">Exception</span>: Function proportional does not exist in namespace d0c384e6-0297-11ec-bb71-f3a3fc31a32d</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">h</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span> <span class="o">==</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Viewing-a-Hierarchy">Viewing a Hierarchy<a class="anchor-link" href="#Viewing-a-Hierarchy"> </a></h2><p>The hierarchy details can be viewed as a summary.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">level</span><span class="p">,</span><span class="n">col</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The hierarchy details can be viewed as a configuration. That configuration can be used to create a hierarchy, as shown above.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get the output function, which will be the output function of the last node, or the last item of the post-processor functions, if present.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_output_function</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get_config</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The hierarhcy can also be viewed graphically as a network of connected nodes.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ahpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">)</span>

<span class="n">test</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">if</span> <span class="n">test</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">ahpct</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
    <span class="n">pos</span><span class="o">=</span><span class="n">graphviz_layout</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;dot&#39;</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test</span> <span class="o">==</span><span class="mi">2</span><span class="p">:</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">ahpct</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">multipartite_layout</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">subset_key</span><span class="o">=</span><span class="s2">&quot;layer&quot;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
    <span class="n">pos</span><span class="p">[</span><span class="s1">&#39;constant1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+=</span><span class="mf">0.2</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="s1">&#39;constant1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">750</span><span class="p">,</span> <span class="n">arrowsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test</span> <span class="o">==</span><span class="mi">3</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="s1">&#39;nt&#39;</span><span class="p">:</span>        
        <span class="n">ahpct</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;ahpct.png&quot;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="c1"># with_labels=True, font_weight=&#39;bold&#39;, node_color=&#39;red&#39;,  node_size=500, arrowsize=25, align=&#39;vertical&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Running-a-hierarchy">Running a hierarchy<a class="anchor-link" href="#Running-a-hierarchy"> </a></h2><p>The hierachy can be run once by calling itself. The verbose flag will print the computations to the screen.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A hierarchy can be executed with the "run()" method, providing the number of iterations to run.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct1</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="p">[</span><span class="n">pre</span><span class="p">],</span> <span class="n">post</span><span class="o">=</span><span class="p">[</span><span class="n">post</span><span class="p">],</span> <span class="n">history</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">)</span>

<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">level</span><span class="p">,</span><span class="n">col</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="n">hpct1</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Viewing-Data">Viewing Data<a class="anchor-link" href="#Viewing-Data"> </a></h2><p>If the hierarchy is created with the "history" flag equal to True, the data can be retrieved for each node. The node is accessed by specifying the row and column within the hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;weighted_sum6&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;weighted_sum5&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;subtract4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;proportional4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">]}}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Save-and-Load">Save and Load<a class="anchor-link" href="#Save-and-Load"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Save a hierarchy to file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;hpct.json&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a hierarchy from file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loaded</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;hpct.json&quot;</span><span class="p">)</span>
<span class="n">loaded</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># https://matplotlib.org/3.1.0/gallery/color/named_colors.html</span>
<span class="n">loaded</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">with_edge_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color_mapping</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="s1">&#39;aqua&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;limegreen&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">:</span><span class="s1">&#39;goldenrod&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">:</span><span class="s1">&#39;silver&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h6 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h6>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Build a hierarchy by adding nodes and functions manually.</p>
<p>Create an empty hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">()</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add a node. Then nodes at particular positions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">())</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Replace functions at particular positions in the hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;perception&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;prop2&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;perception&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">WeightedSum</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;wsum&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;reference&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;passthru&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add pre and post processor functions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">add_preprocessor</span><span class="p">(</span><span class="n">Constant</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;cons1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_preprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;prop1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_postprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;postprop1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_postprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;postprop2&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Link the functions together.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;prop1&quot;</span><span class="p">,</span> <span class="s2">&quot;cons1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;prop2&quot;</span><span class="p">,</span> <span class="s2">&quot;prop1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_links</span><span class="p">(</span><span class="s2">&quot;wsum&quot;</span><span class="p">,</span> <span class="s2">&quot;prop2&quot;</span><span class="p">,</span> <span class="s2">&quot;variable&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;passthru&quot;</span><span class="p">,</span> <span class="s2">&quot;proportional1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;postprop1&quot;</span><span class="p">,</span> <span class="s2">&quot;proportional&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;postprop2&quot;</span><span class="p">,</span> <span class="s2">&quot;postprop1&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpctconfig</span> <span class="o">=</span> <span class="n">myhpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
<span class="c1">#print(myhpctconfig)</span>
<span class="k">assert</span> <span class="n">myhpctconfig</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTHierarchy&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pcthierarchy&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;pre0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;cons1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}},</span> <span class="s1">&#39;pre1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;prop1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;cons1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}},</span> <span class="s1">&#39;levels&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode2&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;constant2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;prop1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;constant2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract2&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}},</span> <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;passthru&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;proportional1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Variable&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;passthru&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}}}},</span> <span class="s1">&#39;level1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode1&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;constant1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;WeightedSum&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;wsum&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">},</span> <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;constant1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;wsum&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}}}}},</span> <span class="s1">&#39;post&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;post0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;postprop1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;proportional&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s1">&#39;post1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;postprop2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;postprop1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}}}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Define the order in which the node will be processed.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">set_order</span><span class="p">([</span><span class="s2">&quot;pctnode2&quot;</span><span class="p">,</span> <span class="s2">&quot;pctnode1&quot;</span><span class="p">,</span> <span class="s2">&quot;pctnode&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run the hierarchy once.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">myhpct</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">out</span> <span class="o">==</span> <span class="o">-</span><span class="mi">35000</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

