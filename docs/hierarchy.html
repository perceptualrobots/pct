---

title: Hierarchy


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/04_hierarchy.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/04_hierarchy.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FunctionsData" class="doc_header"><code>class</code> <code>FunctionsData</code><a href="https://github.com/perceptualrobots/pct/tree/master/pct/hierarchy.py#L15" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FunctionsData</code>()</p>
</blockquote>
<p>Data collected for a set of functions</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="PCTHierarchy" class="doc_header"><code>class</code> <code>PCTHierarchy</code><a href="https://github.com/perceptualrobots/pct/tree/master/pct/hierarchy.py#L42" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>PCTHierarchy</code>(<strong><code>levels</code></strong>=<em><code>0</code></em>, <strong><code>cols</code></strong>=<em><code>0</code></em>, <strong><code>pre</code></strong>=<em><code>None</code></em>, <strong><code>post</code></strong>=<em><code>None</code></em>, <strong><code>name</code></strong>=<em><code>'pcthierarchy'</code></em>, <strong><code>clear_names</code></strong>=<em><code>True</code></em>, <strong><code>links</code></strong>=<em><code>'single'</code></em>, <strong><code>history</code></strong>=<em><code>False</code></em>, <strong><code>build</code></strong>=<em><code>True</code></em>, <strong><code>error_collector</code></strong>=<em><code>None</code></em>, <strong><code>namespace</code></strong>=<em><code>None</code></em>, <strong>**<code>pargs</code></strong>)</p>
</blockquote>
<p>A hierarchical perceptual control system, of PCTNodes.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-a-Hierarchy">Creating a Hierarchy<a class="anchor-link" href="#Creating-a-Hierarchy"> </a></h2><p>Create a hierarchy by defining the number of rows (levels) and columns.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pct.functions</span> <span class="kn">import</span> <span class="n">Constant</span>
<span class="n">pre</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;precon&#39;</span><span class="p">)</span>
<span class="n">namespace</span><span class="o">=</span><span class="n">pre</span><span class="o">.</span><span class="n">namespace</span>
<span class="n">post</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;postcon&#39;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
<span class="n">hpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="p">[</span><span class="n">pre</span><span class="p">],</span> <span class="n">post</span><span class="o">=</span><span class="p">[</span><span class="n">post</span><span class="p">],</span> <span class="n">history</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clear_names</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">hierarchy</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[[&lt;pct.nodes.PCTNode at 0x7ff1f1b9f190&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f1b9f690&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f1b98e10&gt;],
 [&lt;pct.nodes.PCTNode at 0x7ff1f1b98750&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0d45b10&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0d45d50&gt;],
 [&lt;pct.nodes.PCTNode at 0x7ff1f0d45990&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0dfd210&gt;,
  &lt;pct.nodes.PCTNode at 0x7ff1f0dfd490&gt;]]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">FunctionsList</span><span class="o">.</span><span class="n">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">report</span><span class="p">()</span>    
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>47 709e5630-029d-11ec-bb71-f3a3fc31a32d
***  precon [&lt;pct.functions.Constant object at 0x7ff1f0dad410&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 5, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;precon&#39;, &#39;decimal_places&#39;: 3}
***  postcon [&lt;pct.functions.Constant object at 0x7ff1f1b93f90&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 10, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;postcon&#39;, &#39;decimal_places&#39;: 3}
***  weighted_sum [&lt;pct.functions.WeightedSum object at 0x7ff1f1b9f310&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d45d90&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45dd0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f1b9f190&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f1b9f190&gt;
***  variable [&lt;pct.functions.Variable object at 0x7ff1f1b9f1d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable&#39;, &#39;decimal_places&#39;: 3}
***  subtract [&lt;pct.functions.Subtract object at 0x7ff1f1b9f050&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b9f310&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b9f1d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract&#39;, &#39;decimal_places&#39;: 3}
***  proportional [&lt;pct.functions.Proportional object at 0x7ff1f1b9f6d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f1b9f050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum1 [&lt;pct.functions.WeightedSum object at 0x7ff1f1b9f590&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d45d90&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45dd0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum1&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f1b9f690&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f1b9f690&gt;
***  variable1 [&lt;pct.functions.Variable object at 0x7ff1f1b98f10&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable1&#39;, &#39;decimal_places&#39;: 3}
***  subtract1 [&lt;pct.functions.Subtract object at 0x7ff1f1b98b90&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b9f590&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98f10&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract1&#39;, &#39;decimal_places&#39;: 3}
***  proportional1 [&lt;pct.functions.Proportional object at 0x7ff1f1b98d90&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f1b98b90&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional1&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum2 [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98c10&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0d45d90&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45dd0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0d45050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum2&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level0col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f1b98e10&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f1b98e10&gt;
***  variable2 [&lt;pct.functions.Variable object at 0x7ff1f1b98990&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;variable2&#39;, &#39;decimal_places&#39;: 3}
***  subtract2 [&lt;pct.functions.Subtract object at 0x7ff1f1b98050&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98c10&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract2&#39;, &#39;decimal_places&#39;: 3}
***  proportional2 [&lt;pct.functions.Proportional object at 0x7ff1f1b98350&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f1b98050&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional2&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum3 [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98550&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f1b9f1d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98f10&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum3&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum4 [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98b10&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0dfd0d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd3d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum4&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f1b98750&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f1b98750&gt;
***  subtract3 [&lt;pct.functions.Subtract object at 0x7ff1f1b987d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98b10&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f1b98550&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract3&#39;, &#39;decimal_places&#39;: 3}
***  proportional3 [&lt;pct.functions.Proportional object at 0x7ff1f0d45d90&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f1b987d0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional3&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum5 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d45e90&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f1b9f1d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98f10&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum5&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum6 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d459d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0dfd0d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd3d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum6&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d45b10&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d45b10&gt;
***  subtract4 [&lt;pct.functions.Subtract object at 0x7ff1f0d45390&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d459d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45e90&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract4&#39;, &#39;decimal_places&#39;: 3}
***  proportional4 [&lt;pct.functions.Proportional object at 0x7ff1f0d45dd0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d45390&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional4&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum7 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d45ed0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Variable object at 0x7ff1f1b9f1d0&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98f10&gt;, &lt;pct.functions.Variable object at 0x7ff1f1b98990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum7&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  weighted_sum8 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d45e50&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Proportional object at 0x7ff1f0dfd0d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd3d0&gt;, &lt;pct.functions.Proportional object at 0x7ff1f0dfd990&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum8&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level1col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d45d50&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d45d50&gt;
***  subtract5 [&lt;pct.functions.Subtract object at 0x7ff1f0d45ad0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f0d45e50&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45ed0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract5&#39;, &#39;decimal_places&#39;: 3}
***  proportional5 [&lt;pct.functions.Proportional object at 0x7ff1f0d45050&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0d45ad0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional5&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum9 [&lt;pct.functions.WeightedSum object at 0x7ff1f0d45fd0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98550&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45e90&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45ed0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum9&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col0 [&lt;pct.nodes.PCTNode object at 0x7ff1f0d45990&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0d45990&gt;
***  constant [&lt;pct.functions.Constant object at 0x7ff1f0dfd050&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant&#39;, &#39;decimal_places&#39;: 3}
***  subtract6 [&lt;pct.functions.Subtract object at 0x7ff1f0dfd090&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0dfd050&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45fd0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract6&#39;, &#39;decimal_places&#39;: 3}
***  proportional6 [&lt;pct.functions.Proportional object at 0x7ff1f0dfd0d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0dfd090&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional6&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum10 [&lt;pct.functions.WeightedSum object at 0x7ff1f0dfd190&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98550&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45e90&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45ed0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum10&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col1 [&lt;pct.nodes.PCTNode object at 0x7ff1f0dfd210&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0dfd210&gt;
***  constant1 [&lt;pct.functions.Constant object at 0x7ff1f0dfd2d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant1&#39;, &#39;decimal_places&#39;: 3}
***  subtract7 [&lt;pct.functions.Subtract object at 0x7ff1f0dfd310&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0dfd2d0&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0dfd190&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract7&#39;, &#39;decimal_places&#39;: 3}
***  proportional7 [&lt;pct.functions.Proportional object at 0x7ff1f0dfd3d0&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0dfd310&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional7&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
***  weighted_sum11 [&lt;pct.functions.WeightedSum object at 0x7ff1f0dfd590&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.WeightedSum object at 0x7ff1f1b98550&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45e90&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0d45ed0&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;weighted_sum11&#39;, &#39;decimal_places&#39;: 3, &#39;weights&#39;: [1, 1, 1, 1, 1], &#39;usenumpy&#39;: False}
***  level2col2 [&lt;pct.nodes.PCTNode object at 0x7ff1f0dfd490&gt;]
&lt;pct.nodes.PCTNode object at 0x7ff1f0dfd490&gt;
***  constant2 [&lt;pct.functions.Constant object at 0x7ff1f0dfd710&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;constant2&#39;, &#39;decimal_places&#39;: 3}
***  subtract8 [&lt;pct.functions.Subtract object at 0x7ff1f0dfd750&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Constant object at 0x7ff1f0dfd710&gt;, &lt;pct.functions.WeightedSum object at 0x7ff1f0dfd590&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;subtract8&#39;, &#39;decimal_places&#39;: 3}
***  proportional8 [&lt;pct.functions.Proportional object at 0x7ff1f0dfd990&gt;]
{&#39;namespace&#39;: UUID(&#39;709e5630-029d-11ec-bb71-f3a3fc31a32d&#39;), &#39;value&#39;: 0, &#39;links&#39;: [&lt;pct.functions.Subtract object at 0x7ff1f0dfd750&gt;], &#39;checklinks&#39;: True, &#39;name&#39;: &#39;proportional8&#39;, &#39;decimal_places&#39;: 3, &#39;gain&#39;: 1}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a hierarchy from a configuration.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;type&#39;: &#39;PCTHierarchy&#39;, &#39;name&#39;: &#39;pcthierarchy&#39;, &#39;pre&#39;: {&#39;pre0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;precon&#39;, &#39;value&#39;: 5, &#39;links&#39;: {}}}, &#39;levels&#39;: {&#39;level0&#39;: {&#39;level&#39;: 0, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum&#39;, 1: &#39;variable&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum1&#39;, 1: &#39;variable1&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract1&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level0col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;, &#39;name&#39;: &#39;variable2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum2&#39;, 1: &#39;variable2&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract2&#39;}, &#39;gain&#39;: 1}}}}}}, &#39;level1&#39;: {&#39;level&#39;: 1, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum4&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum3&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract3&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum4&#39;, 1: &#39;weighted_sum3&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional3&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract3&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum6&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum5&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract4&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum6&#39;, 1: &#39;weighted_sum5&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional4&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract4&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level1col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum8&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum7&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract5&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum8&#39;, 1: &#39;weighted_sum7&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional5&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract5&#39;}, &#39;gain&#39;: 1}}}}}}, &#39;level2&#39;: {&#39;level&#39;: 2, &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col0&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum9&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract6&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant&#39;, 1: &#39;weighted_sum9&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional6&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract6&#39;}, &#39;gain&#39;: 1}}}}, &#39;col1&#39;: {&#39;col&#39;: 1, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col1&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant1&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum10&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract7&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant1&#39;, 1: &#39;weighted_sum10&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional7&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract7&#39;}, &#39;gain&#39;: 1}}}}, &#39;col2&#39;: {&#39;col&#39;: 2, &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;, &#39;name&#39;: &#39;level2col2&#39;, &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;constant2&#39;, &#39;value&#39;: 0, &#39;links&#39;: {}}}, &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;, &#39;name&#39;: &#39;weighted_sum11&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;}, &#39;weights&#39;: [1, 1, 1, 1, 1]}}, &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;, &#39;name&#39;: &#39;subtract8&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;constant2&#39;, 1: &#39;weighted_sum11&#39;}}}, &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;, &#39;name&#39;: &#39;proportional8&#39;, &#39;value&#39;: 0, &#39;links&#39;: {0: &#39;subtract8&#39;}, &#39;gain&#39;: 1}}}}}}}, &#39;post&#39;: {&#39;post0&#39;: {&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;postcon&#39;, &#39;value&#39;: 10, &#39;links&#39;: {}}}}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">h</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">namespace</span><span class="o">=</span><span class="n">namespace</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">h</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span> <span class="o">==</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Viewing-a-Hierarchy">Viewing a Hierarchy<a class="anchor-link" href="#Viewing-a-Hierarchy"> </a></h2><p>The hierarchy details can be viewed as a summary.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">hpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">level</span><span class="p">,</span><span class="n">col</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">hpct</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>pcthierarchy PCTHierarchy
**************************
PRE: precon Constant | 5 
Level 0 Cols 3
level0col0 PCTNode
----------------------------
REF: weighted_sum WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional3 proportional4 proportional5 
PER: variable Variable | 0 
COM: subtract Subtract | 0 | links  weighted_sum variable 
OUT: proportional Proportional | gain 10 | 0 | links  subtract 
----------------------------
level0col1 PCTNode
----------------------------
REF: weighted_sum1 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional3 proportional4 proportional5 
PER: variable1 Variable | 0 
COM: subtract1 Subtract | 0 | links  weighted_sum1 variable1 
OUT: proportional1 Proportional | gain 10 | 0 | links  subtract1 
----------------------------
level0col2 PCTNode
----------------------------
REF: weighted_sum2 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional3 proportional4 proportional5 
PER: variable2 Variable | 0 
COM: subtract2 Subtract | 0 | links  weighted_sum2 variable2 
OUT: proportional2 Proportional | gain 10 | 0 | links  subtract2 
----------------------------
Level 1 Cols 3
level1col0 PCTNode
----------------------------
REF: weighted_sum4 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional6 proportional7 proportional8 
PER: weighted_sum3 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  variable variable1 variable2 
COM: subtract3 Subtract | 0 | links  weighted_sum4 weighted_sum3 
OUT: proportional3 Proportional | gain 10 | 0 | links  subtract3 
----------------------------
level1col1 PCTNode
----------------------------
REF: weighted_sum6 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional6 proportional7 proportional8 
PER: weighted_sum5 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  variable variable1 variable2 
COM: subtract4 Subtract | 0 | links  weighted_sum6 weighted_sum5 
OUT: proportional4 Proportional | gain 10 | 0 | links  subtract4 
----------------------------
level1col2 PCTNode
----------------------------
REF: weighted_sum8 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  proportional6 proportional7 proportional8 
PER: weighted_sum7 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  variable variable1 variable2 
COM: subtract5 Subtract | 0 | links  weighted_sum8 weighted_sum7 
OUT: proportional5 Proportional | gain 10 | 0 | links  subtract5 
----------------------------
Level 2 Cols 3
level2col0 PCTNode
----------------------------
REF: constant Constant | 1 
PER: weighted_sum9 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  weighted_sum3 weighted_sum5 weighted_sum7 
COM: subtract6 Subtract | 0 | links  constant weighted_sum9 
OUT: proportional6 Proportional | gain 10 | 0 | links  subtract6 
----------------------------
level2col1 PCTNode
----------------------------
REF: constant1 Constant | 1 
PER: weighted_sum10 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  weighted_sum3 weighted_sum5 weighted_sum7 
COM: subtract7 Subtract | 0 | links  constant1 weighted_sum10 
OUT: proportional7 Proportional | gain 10 | 0 | links  subtract7 
----------------------------
level2col2 PCTNode
----------------------------
REF: constant2 Constant | 1 
PER: weighted_sum11 WeightedSum | weights [1, 1, 1, 1, 1] | 0 | links  weighted_sum3 weighted_sum5 weighted_sum7 
COM: subtract8 Subtract | 0 | links  constant2 weighted_sum11 
OUT: proportional8 Proportional | gain 10 | 0 | links  subtract8 
----------------------------
POST: postcon Constant | 10 
**************************
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The hierarchy details can be viewed as a configuration. That configuration can be used to create a hierarchy, as shown above.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;type&#39;: &#39;PCTHierarchy&#39;,
 &#39;name&#39;: &#39;pcthierarchy&#39;,
 &#39;pre&#39;: {&#39;pre0&#39;: {&#39;type&#39;: &#39;Constant&#39;,
   &#39;name&#39;: &#39;precon&#39;,
   &#39;value&#39;: 5,
   &#39;links&#39;: {}}},
 &#39;levels&#39;: {&#39;level0&#39;: {&#39;level&#39;: 0,
   &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level0col0&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;,
        &#39;name&#39;: &#39;variable&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {}}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum&#39;, 1: &#39;variable&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col1&#39;: {&#39;col&#39;: 1,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level0col1&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum1&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;,
        &#39;name&#39;: &#39;variable1&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {}}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract1&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum1&#39;, 1: &#39;variable1&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional1&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract1&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col2&#39;: {&#39;col&#39;: 2,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level0col2&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum2&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional3&#39;, 1: &#39;proportional4&#39;, 2: &#39;proportional5&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Variable&#39;,
        &#39;name&#39;: &#39;variable2&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {}}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract2&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum2&#39;, 1: &#39;variable2&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional2&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract2&#39;},
        &#39;gain&#39;: 10}}}}}},
  &#39;level1&#39;: {&#39;level&#39;: 1,
   &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level1col0&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum4&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum3&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract3&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum4&#39;, 1: &#39;weighted_sum3&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional3&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract3&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col1&#39;: {&#39;col&#39;: 1,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level1col1&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum6&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum5&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract4&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum6&#39;, 1: &#39;weighted_sum5&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional4&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract4&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col2&#39;: {&#39;col&#39;: 2,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level1col2&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum8&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;proportional6&#39;, 1: &#39;proportional7&#39;, 2: &#39;proportional8&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum7&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;variable&#39;, 1: &#39;variable1&#39;, 2: &#39;variable2&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract5&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum8&#39;, 1: &#39;weighted_sum7&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional5&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract5&#39;},
        &#39;gain&#39;: 10}}}}}},
  &#39;level2&#39;: {&#39;level&#39;: 2,
   &#39;nodes&#39;: {&#39;col0&#39;: {&#39;col&#39;: 0,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level2col0&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;,
        &#39;name&#39;: &#39;constant&#39;,
        &#39;value&#39;: 1,
        &#39;links&#39;: {}}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum9&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract6&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;constant&#39;, 1: &#39;weighted_sum9&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional6&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract6&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col1&#39;: {&#39;col&#39;: 1,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level2col1&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;,
        &#39;name&#39;: &#39;constant1&#39;,
        &#39;value&#39;: 1,
        &#39;links&#39;: {}}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum10&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract7&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;constant1&#39;, 1: &#39;weighted_sum10&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional7&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract7&#39;},
        &#39;gain&#39;: 10}}}},
    &#39;col2&#39;: {&#39;col&#39;: 2,
     &#39;node&#39;: {&#39;type&#39;: &#39;PCTNode&#39;,
      &#39;name&#39;: &#39;level2col2&#39;,
      &#39;refcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Constant&#39;,
        &#39;name&#39;: &#39;constant2&#39;,
        &#39;value&#39;: 1,
        &#39;links&#39;: {}}},
      &#39;percoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;WeightedSum&#39;,
        &#39;name&#39;: &#39;weighted_sum11&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;weighted_sum3&#39;, 1: &#39;weighted_sum5&#39;, 2: &#39;weighted_sum7&#39;},
        &#39;weights&#39;: [1, 1, 1, 1, 1]}},
      &#39;comcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Subtract&#39;,
        &#39;name&#39;: &#39;subtract8&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;constant2&#39;, 1: &#39;weighted_sum11&#39;}}},
      &#39;outcoll&#39;: {&#39;0&#39;: {&#39;type&#39;: &#39;Proportional&#39;,
        &#39;name&#39;: &#39;proportional8&#39;,
        &#39;value&#39;: 0,
        &#39;links&#39;: {0: &#39;subtract8&#39;},
        &#39;gain&#39;: 10}}}}}}},
 &#39;post&#39;: {&#39;post0&#39;: {&#39;type&#39;: &#39;Constant&#39;,
   &#39;name&#39;: &#39;postcon&#39;,
   &#39;value&#39;: 10,
   &#39;links&#39;: {}}}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get the output function, which will be the output function of the last node, or the last item of the post-processor functions, if present.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">hpct</span><span class="o">.</span><span class="n">get_output_function</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">link</span><span class="o">.</span><span class="n">get_config</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;type&#39;: &#39;Constant&#39;, &#39;name&#39;: &#39;postcon&#39;, &#39;value&#39;: 10, &#39;links&#39;: {}}
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The hierarhcy can also be viewed graphically as a network of connected nodes.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ahpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">)</span>

<span class="n">test</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">if</span> <span class="n">test</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">ahpct</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
    <span class="n">pos</span><span class="o">=</span><span class="n">graphviz_layout</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">prog</span><span class="o">=</span><span class="s1">&#39;dot&#39;</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test</span> <span class="o">==</span><span class="mi">2</span><span class="p">:</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">ahpct</span><span class="o">.</span><span class="n">graph</span><span class="p">()</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">multipartite_layout</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">subset_key</span><span class="o">=</span><span class="s2">&quot;layer&quot;</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
    <span class="n">pos</span><span class="p">[</span><span class="s1">&#39;constant1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+=</span><span class="mf">0.2</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="s1">&#39;constant1&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="n">pos</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">750</span><span class="p">,</span> <span class="n">arrowsize</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

<span class="k">if</span> <span class="n">test</span> <span class="o">==</span><span class="mi">3</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="s1">&#39;nt&#39;</span><span class="p">:</span>        
        <span class="n">ahpct</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;ahpct.png&quot;</span><span class="p">,</span>  <span class="n">node_size</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span><span class="c1"># with_labels=True, font_weight=&#39;bold&#39;, node_color=&#39;red&#39;,  node_size=500, arrowsize=25, align=&#39;vertical&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Running-a-hierarchy">Running a hierarchy<a class="anchor-link" href="#Running-a-hierarchy"> </a></h2><p>The hierachy can be run once by calling itself. The verbose flag will print the computations to the screen.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>5.000 
level0col0 </pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">Exception</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-28-de5361fe1b8e&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>hpct<span class="ansi-blue-fg">(</span>verbose<span class="ansi-blue-fg">=</span><span class="ansi-green-fg">True</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-18-c7c5e88f9b7d&gt;</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, verbose)</span>
<span class="ansi-green-intense-fg ansi-bold">     77</span>                     <span class="ansi-green-fg">if</span> verbose<span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     78</span>                         print<span class="ansi-blue-fg">(</span>node<span class="ansi-blue-fg">.</span>get_name<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> end <span class="ansi-blue-fg">=</span><span class="ansi-blue-fg">&#34; &#34;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">---&gt; 79</span><span class="ansi-red-fg">                     </span>node<span class="ansi-blue-fg">(</span>verbose<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     80</span>         <span class="ansi-green-fg">elif</span> self<span class="ansi-blue-fg">.</span>order<span class="ansi-blue-fg">==</span><span class="ansi-blue-fg">&#34;Down&#34;</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">     81</span>             <span class="ansi-green-fg">for</span> level <span class="ansi-green-fg">in</span> range<span class="ansi-blue-fg">(</span>len<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>hierarchy<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/nodes.py</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, verbose)</span>
<span class="ansi-green-intense-fg ansi-bold">     71</span> 
<span class="ansi-green-intense-fg ansi-bold">     72</span>         <span class="ansi-green-fg">for</span> referenceFunction <span class="ansi-green-fg">in</span> self<span class="ansi-blue-fg">.</span>referenceCollection<span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">---&gt; 73</span><span class="ansi-red-fg">             </span>referenceFunction<span class="ansi-blue-fg">(</span>verbose<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     74</span> 
<span class="ansi-green-intense-fg ansi-bold">     75</span>         <span class="ansi-green-fg">for</span> perceptionFunction <span class="ansi-green-fg">in</span> self<span class="ansi-blue-fg">.</span>perceptionCollection<span class="ansi-blue-fg">:</span>

<span class="ansi-green-fg">/mnt/c/Users/ruper/Versioning/python/nbdev/pct/pct/functions.py</span> in <span class="ansi-cyan-fg">__call__</span><span class="ansi-blue-fg">(self, verbose)</span>
<span class="ansi-green-intense-fg ansi-bold">    740</span>         <span class="ansi-green-fg">else</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">    741</span>             <span class="ansi-green-fg">if</span> len<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>links<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">!=</span> len<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>weights<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-fg">--&gt; 742</span><span class="ansi-red-fg">                 </span><span class="ansi-green-fg">raise</span> Exception<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">f&#39;Number of links {len(self.links)} and weights {len(self.weights)} for function {self.name} must be the same.&#39;</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    743</span> 
<span class="ansi-green-intense-fg ansi-bold">    744</span>         super<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">.</span>check_links<span class="ansi-blue-fg">(</span>len<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">.</span>links<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">Exception</span>: Number of links 3 and weights 5 for function weighted_sum must be the same.</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A hierarchy can be executed with the "run()" method, providing the number of iterations to run.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hpct1</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="p">[</span><span class="n">pre</span><span class="p">],</span> <span class="n">post</span><span class="o">=</span><span class="p">[</span><span class="n">post</span><span class="p">],</span> <span class="n">history</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">links</span><span class="o">=</span><span class="s2">&quot;dense&quot;</span><span class="p">)</span>

<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">for</span> <span class="n">level</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="n">level</span><span class="p">,</span><span class="n">col</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="n">hpct1</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Viewing-Data">Viewing Data<a class="anchor-link" href="#Viewing-Data"> </a></h2><p>If the hierarchy is created with the "history" flag equal to True, the data can be retrieved for each node. The node is accessed by specifying the row and column within the hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">hpct1</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;weighted_sum6&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;weighted_sum5&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;subtract4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">]},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;proportional4&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">]}}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Save-and-Load">Save and Load<a class="anchor-link" href="#Save-and-Load"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Save a hierarchy to file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="n">hpct1</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;hpct.json&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a hierarchy from file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loaded</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;hpct.json&quot;</span><span class="p">)</span>
<span class="n">loaded</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1"># https://matplotlib.org/3.1.0/gallery/color/named_colors.html</span>
<span class="n">loaded</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">with_edge_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">color_mapping</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;w&#39;</span><span class="p">:</span><span class="s1">&#39;aqua&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">:</span><span class="s1">&#39;limegreen&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">:</span><span class="s1">&#39;goldenrod&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">:</span><span class="s1">&#39;silver&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h6 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h6>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Build a hierarchy by adding nodes and functions manually.</p>
<p>Create an empty hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">()</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add a node. Then nodes at particular positions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">())</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">PCTNode</span><span class="p">(),</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Replace functions at particular positions in the hierarchy.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;perception&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;prop2&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;perception&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">WeightedSum</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;wsum&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">insert_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">collection</span><span class="o">=</span><span class="s2">&quot;reference&quot;</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;passthru&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add pre and post processor functions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">add_preprocessor</span><span class="p">(</span><span class="n">Constant</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;cons1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_preprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;prop1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_postprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;postprop1&quot;</span><span class="p">))</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_postprocessor</span><span class="p">(</span><span class="n">Proportional</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;postprop2&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Link the functions together.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;prop1&quot;</span><span class="p">,</span> <span class="s2">&quot;cons1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;prop2&quot;</span><span class="p">,</span> <span class="s2">&quot;prop1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">add_links</span><span class="p">(</span><span class="s2">&quot;wsum&quot;</span><span class="p">,</span> <span class="s2">&quot;prop2&quot;</span><span class="p">,</span> <span class="s2">&quot;variable&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;passthru&quot;</span><span class="p">,</span> <span class="s2">&quot;proportional1&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;postprop1&quot;</span><span class="p">,</span> <span class="s2">&quot;proportional&quot;</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">set_links</span><span class="p">(</span><span class="s2">&quot;postprop2&quot;</span><span class="p">,</span> <span class="s2">&quot;postprop1&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;reference&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">get_node</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">get_function</span><span class="p">(</span><span class="s1">&#39;output&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="s1">&#39;gain&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">myhpct</span><span class="o">.</span><span class="n">summary</span><span class="p">(</span><span class="n">build</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpctconfig</span> <span class="o">=</span> <span class="n">myhpct</span><span class="o">.</span><span class="n">get_config</span><span class="p">()</span>
<span class="c1">#print(myhpctconfig)</span>
<span class="k">assert</span> <span class="n">myhpctconfig</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTHierarchy&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pcthierarchy&#39;</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;pre0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;cons1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}},</span> <span class="s1">&#39;pre1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;prop1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;cons1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}},</span> <span class="s1">&#39;levels&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode2&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;constant2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;prop1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;constant2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract2&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}},</span> <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;passthru&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;proportional1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Variable&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;passthru&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}}}},</span> <span class="s1">&#39;level1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;level&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;col&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;PCTNode&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;pctnode1&#39;</span><span class="p">,</span> <span class="s1">&#39;refcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Constant&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;constant1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{}}},</span> <span class="s1">&#39;percoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;WeightedSum&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;wsum&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;prop2&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;variable&#39;</span><span class="p">},</span> <span class="s1">&#39;weights&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]}},</span> <span class="s1">&#39;comcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Subtract&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;subtract1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;constant1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;wsum&#39;</span><span class="p">}}},</span> <span class="s1">&#39;outcoll&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;proportional1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;subtract1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">}}}}}}},</span> <span class="s1">&#39;post&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;post0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;postprop1&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;proportional&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span> <span class="s1">&#39;post1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Proportional&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;postprop2&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;links&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;postprop1&#39;</span><span class="p">},</span> <span class="s1">&#39;gain&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}}}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Define the order in which the node will be processed.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">myhpct</span><span class="o">.</span><span class="n">set_order</span><span class="p">([</span><span class="s2">&quot;pctnode2&quot;</span><span class="p">,</span> <span class="s2">&quot;pctnode1&quot;</span><span class="p">,</span> <span class="s2">&quot;pctnode&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run the hierarchy once.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">myhpct</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">out</span> <span class="o">==</span> <span class="o">-</span><span class="mi">35000</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

