---

title: Examples

keywords: fastai
sidebar: home_sidebar

summary: "Examples of the PCT library in use."
description: "Examples of the PCT library in use."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs\00_examples.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">gym</span> 
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Acrobot">Acrobot<a class="anchor-link" href="#Acrobot"> </a></h2><p>The goal is for the end effector to be one link length above the horizontal.</p>
<p>The observations of the Acrobat system are the sin and cos values of the two joint angles and also the angular velocities of the two joints.</p>
<p>That is,</p>
<p>0 - cos of the angle of link 1</p>
<p>1 - sin of the angle of link 1</p>
<p>2 - cos of the angle of link 2</p>
<p>3 - sin of the angle of link 2</p>
<p>4 - velocity of link 1</p>
<p>5 - velocity of link 2</p>
<p>An angle of 0 for the first link means it is pointing downwards.</p>
<p>An angle of 0 for the second link means it is in line with the first link (I think).</p>
<p>So, the starting position of pointing downwards has both angles as 0. Therefore, the initial state is 
[1, 0, 1, 0, 0, 0]</p>
<p>The ideal goal state, then, would be, [-1,0, 1, 0, 0, 0], which is pointing upwards.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acrobot_hierarchy</span> <span class="o">=</span> <span class="n">PCTHierarchy</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;acrobot_hierarchy&quot;</span><span class="p">)</span>
<span class="c1">#acrobot = OpenAIGym(&quot;Acrobot-v1&quot;, name=&quot;Acrobot-v1&quot;, render=False)</span>
<span class="c1">#acrobot.add_link(acrobot_hierarchy.get_output_function())</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">acrobot_hierarchy</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>acrobot_hierarchy PCTHierarchy
**************************
PRE: Level 0
row0col0 PCTNode
----------------------------
REF: constant Constant | 1 
PER: variable Variable | 0 
COM: subtract Subtract | 0 | links  constant variable 
OUT: proportional Proportional | gain 10 | 0 | links  subtract 
----------------------------
PRE: **************************
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span> <span class="o">=</span> <span class="n">gym</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="s2">&quot;Acrobot-v1&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">obs</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(array([ 0.99843899, -0.05585327,  0.99999875, -0.0015792 ,  0.01657255,
        -0.01309336]),
 -1.0,
 False,
 {})</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">alt</span><span class="o">=</span><span class="mi">3</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">alt</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">alt</span><span class="p">):</span>
        <span class="n">obs</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">==</span><span class="s2">&quot;nt&quot;</span><span class="p">:</span>
            <span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">alt</span><span class="p">):</span>
        <span class="n">obs</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">==</span><span class="s2">&quot;nt&quot;</span><span class="p">:</span>
            <span class="n">env</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">obs</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span><span class="si">:</span><span class="s1">0.2f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1.00 -0.03 1.00 0.03 -0.06 -0.02
1.00 -0.04 1.00 0.02 -0.01 -0.08
1.00 -0.03 1.00 -0.00 0.04 -0.13
1.00 -0.02 1.00 -0.03 0.07 -0.14
1.00 -0.02 1.00 -0.02 -0.05 0.22
1.00 -0.04 1.00 0.06 -0.14 0.53
1.00 -0.07 0.98 0.18 -0.19 0.70
0.99 -0.11 0.95 0.32 -0.16 0.69
0.99 -0.12 0.91 0.40 0.06 0.20
1.00 -0.09 0.92 0.39 0.26 -0.32
1.00 -0.02 0.96 0.29 0.39 -0.74
1.00 0.06 0.99 0.12 0.41 -0.94
0.99 0.13 1.00 -0.06 0.29 -0.88
0.99 0.16 0.98 -0.18 -0.06 -0.24
0.99 0.11 0.99 -0.16 -0.40 0.43
1.00 0.00 1.00 -0.02 -0.63 0.94
0.99 -0.13 0.98 0.19 -0.68 1.14
0.97 -0.25 0.92 0.40 -0.51 0.97
0.95 -0.31 0.86 0.51 -0.08 0.23
0.96 -0.28 0.88 0.48 0.38 -0.56
0.99 -0.17 0.95 0.31 0.74 -1.21
1.00 -0.00 1.00 0.04 0.88 -1.50
0.99 0.17 0.97 -0.24 0.75 -1.29
0.96 0.28 0.90 -0.44 0.40 -0.70
0.95 0.30 0.89 -0.46 -0.18 0.39
0.98 0.21 0.96 -0.30 -0.72 1.40
1.00 0.03 1.00 0.05 -1.05 2.02
0.98 -0.18 0.89 0.45 -1.03 1.99
0.94 -0.35 0.69 0.72 -0.70 1.40
0.90 -0.43 0.54 0.84 -0.21 0.55
0.91 -0.41 0.54 0.84 0.42 -0.64
0.96 -0.28 0.73 0.69 0.97 -1.76
1.00 -0.05 0.95 0.31 1.31 -2.54
0.98 0.21 0.98 -0.20 1.22 -2.53
0.92 0.40 0.80 -0.60 0.73 -1.74
0.88 0.47 0.64 -0.77 0.06 -0.62
0.91 0.42 0.63 -0.78 -0.61 0.54
0.97 0.24 0.80 -0.60 -1.26 1.92
1.00 -0.05 0.99 -0.15 -1.61 2.87
0.93 -0.36 0.91 0.42 -1.44 2.82
0.83 -0.56 0.60 0.80 -0.83 1.96
0.77 -0.64 0.36 0.93 -0.05 0.85
0.81 -0.58 0.31 0.95 0.71 -0.29
0.92 -0.40 0.46 0.89 1.32 -1.39
0.99 -0.10 0.77 0.63 1.77 -2.57
0.97 0.26 0.99 0.11 1.77 -3.04
0.84 0.54 0.90 -0.44 1.21 -2.43
0.75 0.66 0.68 -0.73 0.33 -1.24
0.77 0.64 0.59 -0.81 -0.61 0.08
0.88 0.47 0.70 -0.71 -1.43 1.38
0.99 0.15 0.92 -0.39 -1.94 2.41
0.97 -0.25 0.99 0.11 -1.91 2.58
0.83 -0.56 0.83 0.56 -1.45 2.08
0.69 -0.72 0.61 0.79 -0.65 1.10
0.66 -0.75 0.52 0.86 0.26 0.03
0.76 -0.65 0.60 0.80 1.13 -1.06
0.92 -0.40 0.82 0.57 1.79 -2.03
1.00 -0.02 0.99 0.15 2.01 -2.42
0.94 0.35 0.96 -0.28 1.64 -1.80
0.82 0.57 0.86 -0.50 0.84 -0.55
0.77 0.64 0.86 -0.51 -0.01 0.51
0.82 0.57 0.95 -0.32 -0.85 1.48
0.93 0.36 1.00 0.04 -1.47 2.10
1.00 0.05 0.90 0.44 -1.67 1.98
0.96 -0.27 0.71 0.70 -1.42 1.14
0.88 -0.48 0.63 0.78 -0.82 -0.04
0.83 -0.55 0.72 0.69 -0.03 -1.29
0.87 -0.49 0.93 0.38 0.77 -2.38
0.96 -0.29 0.99 -0.15 1.30 -2.91
1.00 -0.03 0.78 -0.63 1.26 -2.21
0.98 0.19 0.54 -0.84 0.92 -1.00
0.95 0.32 0.48 -0.88 0.39 0.39
0.94 0.33 0.67 -0.75 -0.29 1.84
0.98 0.21 0.94 -0.33 -0.95 3.14
1.00 -0.01 0.94 0.35 -1.21 3.58
0.97 -0.23 0.53 0.85 -0.93 2.91
0.93 -0.37 0.08 1.00 -0.46 1.87
0.91 -0.41 -0.19 0.98 0.01 0.83
0.93 -0.36 -0.23 0.97 0.49 -0.39
0.97 -0.23 -0.04 1.00 0.86 -1.55
1.00 -0.03 0.37 0.93 1.12 -2.66
0.98 0.21 0.85 0.53 1.23 -3.53
0.91 0.42 0.99 -0.16 0.93 -3.51
0.86 0.52 0.72 -0.69 0.12 -2.43
0.89 0.46 0.44 -0.90 -0.75 -1.02
0.97 0.26 0.38 -0.92 -1.38 0.36
1.00 -0.05 0.55 -0.83 -1.63 1.47
0.93 -0.36 0.81 -0.58 -1.48 2.09
0.81 -0.59 0.99 -0.16 -1.09 2.39
0.71 -0.70 0.96 0.29 -0.39 2.05
0.72 -0.70 0.81 0.59 0.49 1.26
0.83 -0.55 0.71 0.70 1.34 0.23
0.97 -0.25 0.75 0.66 1.92 -0.76
0.99 0.15 0.88 0.48 2.01 -1.33
0.87 0.49 0.97 0.24 1.55 -1.14
0.74 0.68 1.00 0.08 0.70 -0.37
0.71 0.71 0.99 0.11 -0.30 0.59
0.81 0.59 0.95 0.31 -1.22 1.41
0.95 0.32 0.83 0.56 -1.72 1.37
1.00 -0.03 0.69 0.73 -1.78 0.67
0.94 -0.34 0.67 0.74 -1.34 -0.51
0.86 -0.52 0.82 0.57 -0.54 -1.80
0.85 -0.53 0.99 0.13 0.29 -2.81
0.90 -0.43 0.89 -0.45 0.83 -3.07
0.97 -0.25 0.50 -0.86 1.07 -2.62
1.00 -0.03 0.08 -1.00 1.14 -1.84
0.98 0.19 -0.19 -0.98 1.04 -0.86
0.93 0.36 -0.25 -0.97 0.70 0.30
0.90 0.44 -0.06 -1.00 0.11 1.62
0.92 0.38 0.42 -0.91 -0.77 3.37
0.99 0.15 0.96 -0.28 -1.61 5.02
0.98 -0.18 0.74 0.67 -1.54 4.89
0.91 -0.41 -0.01 1.00 -0.81 3.52
0.87 -0.49 -0.55 0.83 -0.08 2.26
0.89 -0.45 -0.80 0.60 0.51 1.24
0.95 -0.32 -0.89 0.45 0.92 0.47
0.99 -0.12 -0.91 0.42 1.09 0.01
1.00 0.09 -0.90 0.43 0.97 -0.13
0.97 0.25 -0.90 0.44 0.62 0.02
0.95 0.33 -0.91 0.41 0.12 0.38
0.95 0.30 -0.95 0.32 -0.34 0.63
0.98 0.20 -0.99 0.17 -0.71 0.86
1.00 0.04 -1.00 -0.01 -0.88 0.99
0.99 -0.13 -0.98 -0.21 -0.80 1.00
0.97 -0.26 -0.92 -0.40 -0.49 0.90
0.95 -0.31 -0.84 -0.54 -0.05 0.77
0.96 -0.28 -0.75 -0.66 0.39 0.74
0.99 -0.17 -0.63 -0.77 0.71 0.95
1.00 -0.02 -0.43 -0.90 0.77 1.56
0.99 0.11 -0.03 -1.00 0.42 2.66
0.99 0.13 0.61 -0.79 -0.30 4.18
1.00 0.00 1.00 0.04 -0.79 5.13
0.99 -0.12 0.53 0.85 -0.35 4.34
0.99 -0.12 -0.17 0.98 0.34 3.03
1.00 -0.01 -0.63 0.77 0.68 2.16
0.99 0.13 -0.88 0.47 0.66 1.85
0.97 0.23 -0.99 0.11 0.41 2.07
0.96 0.28 -0.93 -0.36 0.00 2.77
0.97 0.22 -0.51 -0.86 -0.59 3.97
1.00 0.02 0.42 -0.91 -1.48 5.85
0.94 -0.34 0.98 0.21 -1.94 7.16
0.82 -0.57 0.10 1.00 -0.55 5.24
0.84 -0.54 -0.69 0.73 0.90 3.39
0.96 -0.29 -0.97 0.25 1.70 2.33
1.00 0.07 -0.99 -0.17 1.86 2.10
0.92 0.39 -0.79 -0.61 1.32 2.99
0.85 0.52 -0.14 -0.99 -0.01 4.86
0.93 0.36 0.88 -0.47 -1.71 7.31
1.00 0.00 0.56 0.83 -1.56 6.75
0.98 -0.19 -0.53 0.85 -0.46 4.82
0.98 -0.21 -0.99 0.17 0.17 3.84
0.99 -0.16 -0.84 -0.55 0.28 3.79
0.99 -0.14 -0.16 -0.99 -0.14 4.70
0.97 -0.24 0.81 -0.58 -0.94 6.37
0.91 -0.41 0.79 0.62 -0.47 5.95
0.94 -0.35 -0.05 1.00 1.14 3.56
1.00 -0.02 -0.53 0.85 2.09 1.74
0.92 0.40 -0.74 0.67 2.08 1.15
0.71 0.70 -0.89 0.46 1.46 1.57
0.56 0.83 -1.00 0.06 0.52 2.72
0.57 0.82 -0.80 -0.60 -0.71 4.38
0.79 0.62 0.17 -0.99 -2.35 6.81
1.00 0.04 0.97 0.25 -3.60 9.08
0.84 -0.55 -0.28 0.96 -2.36 6.70
0.60 -0.80 -0.99 0.13 -1.16 5.07
0.48 -0.88 -0.70 -0.71 -0.36 4.27
0.46 -0.89 0.05 -1.00 0.07 4.16
0.49 -0.87 0.80 -0.59 0.26 4.72
0.58 -0.81 0.95 0.32 1.00 4.54
0.83 -0.55 0.51 0.86 2.73 2.31
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

